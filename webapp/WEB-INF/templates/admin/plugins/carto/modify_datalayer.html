<#include "/admin/plugins/carto/include/commons_markers.html"/>
<#include "/admin/util/editor/editor.html" />
<@pageContainer>
	<@pageColumn>
		<@pageHeader title='#i18n{carto.modify_datalayer.title}' />
		<@div id='modify_datalayer'>
			<@tform method="post" name="modify_datalayer" action="jsp/admin/plugins/carto/ManageDataLayers.jsp" >
				<@messages errors=errors />
				<@input type="hidden" id="id" name="id" value="${datalayer.id}"/>
				
				<@formGroup labelFor='title' labelKey='#i18n{carto.modify_datalayer.labelTitle}' mandatory=true>
					<@input type='text' id='title' name='title'  maxlength=255 value='${datalayer.title!\'\'}' />
				</@formGroup>
				<@formGroup labelFor='source' labelKey='#i18n{carto.modify_datalayer.labelSource}' mandatory=true>
					<@select name='source' items=list_source_datalayer id='source' default_value='${datalayer.source!\'\'}' />
				</@formGroup>
				<@formGroup labelFor='solr_tag' labelKey='#i18n{carto.modify_datalayer.labelSolrTag}' mandatory=true>
					<@input type='text' id='solr_tag' name='solr_tag'  maxlength=255 value='${datalayer.solrTag!\'\'}' />
				</@formGroup>
				<@formGroup labelFor='geometry' labelKey='#i18n{carto.modify_datalayer.labelGeometry}' mandatory=true>
					<@select name='geometry' items=list_geo_type id='geometry' default_value='${datalayer.geometryType.id!\'\'}' />
				</@formGroup>
				<@formGroup labelFor='title' labelKey='#i18n{carto.modify_datalayer.labelUrlFlux}' >
					<@input type='text' id='urlFlux' name='urlFlux'  maxlength=255 value='${datalayer.urlFlux!\'\'}' />
				</@formGroup>
				<@formGroup labelFor='title' labelKey='#i18n{carto.modify_datalayer.labelTypeNameFlux}' >
					<@input type='text' id='typeNameFlux' name='typeNameFlux'  maxlength=255 value='${datalayer.typeNameFlux!\'\'}' />
				</@formGroup>
				<@formGroup labelFor='title' labelKey='#i18n{carto.modify_datalayer.labelVersionFlux}' >
					<@input type='text' id='versionFlux' name='versionFlux'  maxlength=255 value='${datalayer.versionFlux!\'\'}' />
				</@formGroup>
				<@formGroup labelFor='texte_popup' labelKey='#i18n{carto.modify_maptemplate.popup}' mandatory=false >
                    <@input type='textarea' name='popupContent' id='popupContent' rows=15 cols=70 richtext=true> ${datalayer.popupContent!} </@input>
                </@formGroup>
                <@columns sm=4>
					<@marker_descriptions />
				</@columns>
        		<@actionButtons button1Name="action_modifyDataLayer" button2Name="view_manageDataLayer"/>
   			</@tform>
		</@div>
	</@pageColumn>
</@pageContainer>
<@initEditor/>