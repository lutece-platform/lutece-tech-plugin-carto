<#include "carto_commons.html" />
<@pageContainer>
    <@pageColumn>
        <@pageHeader title='#i18n{carto.manage_basemap.title}'>
            <@offcanvas targetUrl="jsp/admin/plugins/carto/ManageBasemaps.jsp?view_createBasemap" targetElement="#new_basemap" id="template-create-basemap" title="#i18n{carto.manage_basemap.buttonAdd}" btnTitle="#i18n{carto.manage_basemap.buttonAdd}" btnIcon="plus" btnSize="" position="end" size="half" />
	    </@pageHeader>
        <@tabs>
            <@tabsReferentiel tab="basemap" />
            <@tabContent>
                <@tabPanel id='basemap' active=true>
                <@messages infos=infos />
                <@table headBody=true>
                    <@tr>
                        <@th>#i18n{carto.manage_basemap.columnTitle}</@th>
                        <@th>#i18n{carto.manage_basemap.columnUrl}</@th>
                        <@th>#i18n{carto.manage_basemap.columnAttribution}</@th>
                        <@th>#i18n{portal.util.labelActions}</@th>
                    </@tr>
                    <@tableHeadBodySeparator />
                    <#list basemap_list as basemap >
                    <@tr>
                        <@td>${basemap.title}</@td>
                        <@td>${basemap.url}</@td>
                        <@td>${basemap.attribution}</@td>
                        <@td>
                            <@offcanvas targetUrl="jsp/admin/plugins/carto/ManageBasemaps.jsp?view=modifyBasemap&id=${basemap.id}" targetElement="#modify_basemap" redirectForm=true id="template-modify-basemap-${basemap.id}" title="#i18n{portal.util.labelModify}" btnTitle="#i18n{portal.util.labelModify}" btnIcon="pencil" btnSize="" position="end" size="half" />
                            <@aButton href='jsp/admin/plugins/carto/ManageBasemaps.jsp?action=confirmRemoveBasemap&id=${basemap.id}' title='#i18n{portal.util.labelDelete}' size='' buttonIcon='trash' hideTitle=['all'] color='danger'  />
                        </@td>
                    </@tr>
                    </#list>
                </@table>
                <@paginationAdmin paginator=paginator combo=1 showcount=0 />
                </@tabPanel>
            </@tabContent>
        </@tabs>
	</@pageColumn>
</@pageContainer>